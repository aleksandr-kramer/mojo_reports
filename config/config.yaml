endpoints:
  attendance: "/attendance"
  marks_current: "/marks/current"
  marks_final: "/marks/final"
  schedule: "/schedule"
  subjects: "/subjects"
  work_forms: "/work_forms"

load:
  daily_window_days: 2 # скользящее окно инкремента, если нет updatedAfter
  weekly_deep_days: 60
  retry:
    max_attempts: 5
    backoff_seconds: 2

timezone: "Europe/Podgorica"

api:
  base_url: "https://adriatic.mojo.education/api/v1"
  default_limit: 500
  timeout_sec: 30
  retry:
    total: 5
    backoff_factor: 0.5
    status_forcelist: [429, 500, 502, 503, 504]
  windows:
    attendance_days_back: 2
    schedule_days_forward: 7
  department_default: 0

excel:
  storage: drive
  drive:
    students_id: "19I55-vBV5CVCQhqsD4TAQK7pfQaBdwSB"
    parents_id: "1IMCCO_e8o5JDP1OpGotNeQf07305eFM6"
    classes_id: "1f-PkrPH4fGTvPUZvQ1b0sJTksdsA9DvG"
    staff_id: "1yDGjR1S0fFTxCmQHwGeEvlUn9RAs51S7"

reports:
  timezone: "Europe/Podgorica" # таймзона формирования отчётов
  daily_send_hour_local: 3 # запуск после CORE ETL
  weekly_assessment_period_start: "2025-09-01"

  drive:
    # Корневая папка для всех отчётов (ID предоставлен)
    root_folder_id: "1_PVTr7QhtD4Y0Np7NiVKFRVSZ3aznNGa"
  email:
    sender: "reports@adriaticcollege.com"
    # cc-политика по ролям может расширяться; для текущего отчёта cc = academic_director из CORE
    cc_roles: []

  # Настройки КОНКРЕТНО для ежедневного отчёта координаторов посещаемости
  coordinator_daily_attendance:
    # Папка вида mojo_reports/coordinator_daily_attendance_report (ID предоставлен)
    parent_folder_id: "1dsk_CUXZKzr0fA1ZsPdLm6X90gYvGReu"
    template_id: "1aRiIjrCY8bE32Jvqdub0SJPc7pGy7i1X"
    per_slide_max_rows: 30
    filename_pattern: "{date}_{programme}_coordinator_daily_attendance_report.pdf"
  coordinator_daily_assessment:
    parent_folder_id: "1dsk_CUXZKzr0fA1ZsPdLm6X90gYvGReu" # тот же корень, что у attendance
    template_id: "1P7cSQDCyT9h9DMNWVETGCpS8OCEFXk_B"
    per_slide_max_rows: 30
    filename_pattern: "{date}_{programme}_coordinator_daily_assessment_report.pdf"

  coordinator_weekly_attendance:
    # Корневая папка Weekly: coordinator_weekly_report
    parent_folder_id: "1YL_pqAGKnOA_bDFYjAc791L9QaLcPpaj"
    # Шаблон Slides: coordinator_weekly_attendance_report.pptx
    template_id: "14Rkdy0Fi-b9A8BAm6Nps4jBHFBLo-4O_"
    per_slide_max_rows: 30
    filename_pattern: "{date}_{programme}_coordinator_weekly_attendance_report.pdf"

  coordinator_weekly_assessment:
    # Тот же корень Weekly
    parent_folder_id: "1YL_pqAGKnOA_bDFYjAc791L9QaLcPpaj"
    # Шаблон Slides: coordinator_weekly_assessment_report.pptx
    template_id: "1VUgHb4JXJFxpR6ieNamZrAFdzdrE7HlH"
    per_slide_max_rows: 30
    filename_pattern: "{date}_{programme}_coordinator_weekly_assessment_report.pdf"


google:
  rate_limits:
    gmail:
      max_messages_per_hour: 90 # безопасная «шапка»
      burst: 10 # не больше 10 подряд без паузы
      min_seconds_between_sends: 40
      max_consecutive_errors: 5
